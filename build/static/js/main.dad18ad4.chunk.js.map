{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","services/pixabay.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","searchValue","setSearchValue","className","s","searchbar","searchForm","e","preventDefault","trim","toast","warn","type","searchButton","reactIcons","searchInput","name","value","autoComplete","autoFocus","placeholder","onChange","target","toLowerCase","PixabayFetch","this","_searchQuery","_page","perPage","fetch","page","axios","get","then","result","data","hits","catch","err","console","log","modalRoot","document","querySelector","Modal","toggleModal","modalImg","tags","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","overlay","onClick","currentTarget","modal","src","alt","ImageGalleryItem","id","webformatURL","largeImageURL","showModal","galleryItem","imageGalleryItem","propsTypes","PropTypes","string","func","bool","Button","button","newPixabayFetch","ImageGallery","searchResult","setSearchResult","setError","setShowModal","loader","setLoader","setModalImg","resetPage","searchQuery","searchPhotos","length","error","ScrollImages","scrollTo","top","documentElement","scrollHeight","behavior","onClickModalImg","img","dataset","color","height","width","timeout","gallery","map","prev","App","setValue","position","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dad18ad4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__QDCHF\",\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1LEDw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__gboaM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"searchForm\":\"Searchbar_searchForm__23jwf\",\"searchButton\":\"Searchbar_searchButton__1Ml9x\",\"searchButtonLabel\":\"Searchbar_searchButtonLabel__2BLFE\",\"searchInput\":\"Searchbar_searchInput__1DwaM\",\"reactIcons\":\"Searchbar_reactIcons__ukWGd\"};","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { toast } from \"react-toastify\";\nimport s from \"../Searchbar/Searchbar.module.css\";\nimport { BsSearch } from 'react-icons/bs'\n\nexport default function Searchbar({onSubmit}) {\n    const [searchValue, setSearchValue] = useState('');\n\n    const handleSearchSubmit = (e) => {\n    e.preventDefault();\n    if (searchValue.trim() === \"\") {\n      toast.warn(\"Enter a name to search!\");\n      return;\n    }\n    onSubmit(searchValue);\n    setSearchValue(\"\");\n  };\n\n    const handleSearchChange = (e) => {\n    setSearchValue(e.target.value.toLowerCase());\n  };\n   \n\n// BsSearch\n\n    return (\n      <header className={s.searchbar}>\n        <form className={s.searchForm} onSubmit={handleSearchSubmit}>\n          <button type=\"submit\" className={s.searchButton}>\n            <BsSearch className={s.reactIcons}/>\n          </button>\n          <input\n            className={s.searchInput}\n            type=\"text\"\n            name=\"value\"\n            value={searchValue}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleSearchChange}\n          />\n        </form>\n      </header>\n    );\n\n}\n\nSearchbar.propTypes = {\n  handleSearchChange: PropTypes.func,\n  handleSearchSubmit: PropTypes.func,\n  searchValue: PropTypes.string,\n};","import axios from \"axios\";\n\nexport class PixabayFetch {\n  constructor() {\n    this._searchQuery = \"\";\n    this._page = 1;\n    this.perPage = 12;\n  }\n\n  get searchQuery() {\n    return this._searchQuery;\n  }\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n\n  resetPage() {\n    return (this._page = 1);\n  }\n\n  searchPhotos() {\n    const url = \"https://pixabay.com/api/\";\n    const apiKey = \"23141272-55f7853bfecadbbcd9800c5ad\";\n    const params = `?key=${apiKey}&q=${this._searchQuery}&page=${this.page}&image_type=photo&orientation=horizontal&per_page=${this.perPage}`;\n    const fetch = url + params;\n    return axios\n      .get(fetch)\n      .then((result) => {\n        // console.log(result);\n        return result.data;\n      })\n      .then((data) => {\n        // console.log(data.hits);\n        return data.hits;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n}\n","import { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createPortal } from \"react-dom\";\nimport s from \"../Modal/Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default function Modal({toggleModal, modalImg, tags}) {\n\n    useEffect(\n        () => {\n            window.addEventListener(\"keydown\", handleKeyDown);\n            return () => {\n                window.removeEventListener(\"keydown\", handleKeyDown);\n            }\n        }\n    )\n\n    const handleKeyDown = (e) => {\n        if (e.code === \"Escape\") {\n            toggleModal();\n        }\n    };\n    \n    const handleBackdropClick = (e) => {\n        if (e.currentTarget === e.target) {\n            toggleModal();\n        }\n  };\n\n  \n    return createPortal(\n      <div className={s.overlay} onClick={handleBackdropClick}>\n        <div className={s.modal}>\n          <img src={modalImg} alt={tags} />\n        </div>\n      </div>,\n      modalRoot\n    );\n  \n}\n\nModal.propTypes = {\n  handleBackdropClick: PropTypes.func,\n  modalImg: PropTypes.string,\n  tags: PropTypes.string,\n};","import Modal from \"../Modal/Modal\";\nimport PropTypes from \"prop-types\";\nimport s from \"../ImageGalleryItem/ImageGalleryItem.module.css\";\n\nexport function ImageGalleryItem({\n  id,\n  webformatURL,\n  tags,\n  largeImageURL,\n  modalImg,\n  onClick,\n  showModal,\n  toggleModal,\n}) {\n  return (\n    <>\n      <li className={s.galleryItem} key={id}>\n        <img\n          src={webformatURL}\n          alt={tags}\n          data-img={largeImageURL}\n          className={s.imageGalleryItem}\n          onClick={onClick}\n        />\n      </li>\n      {showModal && (\n        <Modal modalImg={modalImg} alt={tags} toggleModal={toggleModal} />\n      )}\n    </>\n  );\n}\n\nImageGalleryItem.propsTypes = {\n  webformatURL: PropTypes.string,\n  tags: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  onClick: PropTypes.func,\n  modalImg: PropTypes.string,\n  showModal: PropTypes.bool,\n  toggleModal: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"../Button/Button.module.css\";\n\nexport function Button({ onClick }) {\n  return (\n    <button className={s.button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"../ImageGallery/ImageGallery.module.css\";\nimport { PixabayFetch } from \"../../services/pixabay\";\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\nimport { Button } from \"../Button/Button\";\nimport \"../../../node_modules/react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport { toast } from \"react-toastify\";\n\nconst newPixabayFetch = new PixabayFetch();\n\nexport default function ImageGallery({value}) {\n\n    const [searchResult, setSearchResult] = useState([]);\n    const [error, setError] = useState(null);\n    const [showModal, setShowModal] = useState(false);\n    const [loader, setLoader] = useState(false);\n    const [modalImg, setModalImg] = useState('');\n\n  useEffect(\n    () => {\n      if (!value) return;\n      newPixabayFetch.resetPage();\n      setLoader(true);\n      newPixabayFetch.searchQuery = value;\n      newPixabayFetch\n        .searchPhotos()\n        .then((searchResult) => {\n          if (searchResult.length === 0) {\n            toast.warn(\"Nothihg found for this name! Enter correct name!\");\n            setSearchResult([]);\n            return;\n          }\n          setSearchResult(searchResult);\n          setLoader(false);\n        })\n        .catch((error) => setError(error));\n    }, [value]\n  );\n\n  const onLoadMore = () => {\n    newPixabayFetch.page = 1;\n    setLoader(true);\n    newPixabayFetch\n      .searchPhotos()\n      .then(searchResult => {\n        setSearchResult(prev =>\n        [...prev, ...searchResult])\n          setLoader(false);\n      })\n      .then(ScrollImages)\n      .catch((error) => setError(error));\n  }\n\n  const ScrollImages = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  }\n\n  const onClickModalImg = (e) => {\n    const { img } = e.target.dataset;\n    setModalImg(img);\n    toggleModal();\n  }\n    \nreturn (\n      <>\n        {loader && (\n          <Loader\n            type=\"Bars\"\n            color=\"#00BFFF\"\n            height={200}\n            width={200}\n            timeout={3000}\n          />\n        )}\n        <ul className={s.gallery}>\n          {searchResult.length > 0 &&\n            searchResult.map(({ id, webformatURL, tags, largeImageURL }) => (\n              <ImageGalleryItem\n                onClick={onClickModalImg}\n                key={id}\n                id={id}\n                webformatURL={webformatURL}\n                tags={tags}\n                largeImageURL={largeImageURL}\n                modalImg={modalImg}\n                showModal={showModal}\n                toggleModal={toggleModal}\n              />\n            ))}\n        </ul>\n        {searchResult.length >= 12 && <Button onClick={onLoadMore} />}\n      </>\n    );\n}\n\n\n\nImageGallery.propTypes = {\n  id: PropTypes.number,\n  webformatURL: PropTypes.string,\n  tags: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  modalImg: PropTypes.string,\n  showModal: PropTypes.bool,\n  toggleModal: PropTypes.func,\n  onLoadMore: PropTypes.func,\n};","import { useState } from \"react\";\nimport \"./App.css\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport { ToastContainer } from \"react-toastify\";\nimport \"../node_modules/react-toastify/dist/ReactToastify.css\";\nimport PropTypes from \"prop-types\";\n\n\nexport default function App() {\n\n    const [value, setValue] = useState('');\n\n    const getFormSubmitValue = (value) => {\n    setValue(value);\n  };\n    \nreturn (\n      <div className=\"App\">\n        <Searchbar onSubmit={getFormSubmitValue} />\n        <ImageGallery value={value} />\n        <ToastContainer position=\"top-left\" autoClose={3000} />\n      </div>\n    );\n}\n\nApp.propTypes = {\n  onSubmit: PropTypes.func,\n  value: PropTypes.string,\n};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}